# Ralphberry Platform Configuration
# Copy this file to .env and fill in your values

# ====================
# Claude Authentication
# ====================
# Choose authentication mode: "api_key" or "oauth"
# - api_key: Pay-per-use with Anthropic API key (default)
# - oauth: Use Claude Max subscription (requires interactive login)
CLAUDE_AUTH_MODE=api_key

# For API key mode (default)
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# For OAuth mode (Claude Max subscription)
# Run ./scripts/setup-claude-auth.sh to set up OAuth credentials
# This directory will be mounted into containers for authentication
CLAUDE_AUTH_DIR=~/.claude-hub/auth

# ====================
# Required: Slack App
# ====================
# Create a Slack app at https://api.slack.com/apps
# See docs/SLACK_APP.md for setup instructions
SLACK_BOT_TOKEN=xoxb-...
SLACK_SIGNING_SECRET=...
SLACK_APP_TOKEN=xapp-...

# ====================
# Optional: Cloudflare Tunnel
# ====================
# For external Slack webhook access without port forwarding
# See docs/CLOUDFLARE.md for setup instructions
TUNNEL_TOKEN=

# ====================
# Database
# ====================
# SQLite database location (auto-created)
DATABASE_PATH=./data/ralphberry.db

# ====================
# Ports
# ====================
SLACK_BOT_PORT=3000
DASHBOARD_PORT=3001

# ====================
# Worker Settings
# ====================
# How often to check for new jobs (milliseconds)
WORKER_POLL_INTERVAL=5000
# Maximum iterations per job before giving up
WORKER_MAX_ITERATIONS=10

# ====================
# Docker Settings
# ====================
# Memory limit for job containers
DOCKER_MEMORY_LIMIT=4g
# CPU limit for job containers
DOCKER_CPU_LIMIT=2

# ====================
# Security
# ====================
# Comma-separated list of Slack channel IDs that can use the bot
# Leave empty to allow all channels (not recommended for production)
SLACK_ALLOWED_CHANNELS=
# Maximum jobs per user per hour
SLACK_RATE_LIMIT=5
